
<% content_for :script do %>

$(function() {
  $('form').validate({
    rules: {
      'password[password]': { minlength: 8,
                              required: true },
      'password[confirm]':  { minlength: 8,
                              equalTo: '#password_password',
                              required: true } },
    messages: { 'password[confirm]': { equalTo: 'The password and confirmation do not match' } },
    highlight: function(element)   { $(element).closest('.form-group').addClass('has-error'); },
    unhighlight: function(element) { $(element).closest('.form-group').removeClass('has-error'); },
    errorElement: 'span',
    errorClass: 'help-block',
    errorPlacement: function(error, element) {
     if(element.parent('.input-group').length) {
       error.insertAfter(element.parent()); }
     else {
       error.insertAfter(element); } }
});

});
<% end %>

<p>To get started, we'll set a new password for the meter. This password will be used for
  both <strong>web</strong> and <strong>ssh</strong> access.</p>
<%= form_for :password, url: wizard_path, :method => :put do |f| %>
<div class="form-group">
  <%= f.label :password, 'New Password', class: 'control-label' %>
  <%= f.password_field :password, class: 'form-control' %>
</div>

<div class="form-group">
  <%= f.label :confirm, class: 'control-label' %>
  <%= f.password_field :confirm, class: 'form-control' %>
</div>

<div class="actions text-right">
  <%= f.submit "Continue", class: 'btn btn-success' %>
</div>


<% end %>
